<div class="post bg-white border rounded col-12 col-md-6 mb-4">
    <div class="post-header py-3 px-4 d-flex align-items-center">
        <img class="post-avatar rounded-circle me-3" src="{{ photo.author.avatar.url }}" alt="User Avatar">
        <span class="post-username font-weight-bold"><a href="{% url 'accounts:profile' photo.author.pk %}">
                        {{ photo.author.username }}</a>
                    </span>
    </div>
    <a href="{% url 'webapp:photo_view' photo.pk %}">

         <img class="post-image img-fluid" src="{{ photo.image.url }}" alt="Post Image">
    </a>

    <div class="post-actions py-2 px-4">

    {% if request.user.is_authenticated %}
          <a href="{% url 'webapp:post_like' photo.id %}"
             data-like="like"
             data-article-id="{{ photo.id }}">
             {% if photo in FavoritePictures.objects.all %}
                 удалить из избранных
             {% else %}
                 добавить в избранное
             {% endif %}
          </a>
      {% endif %}


    {% if request.user == photo.author %}
    {% if photo.access_token %}
        <p>Ссылка для доступа: <a href="{% url 'webapp:photo_token_view' photo.access_token %}">{{ request.get_host }}/photo/{{ photo.access_token }}/</a></p>
    {% else %}
        <form method="post" action="{% url 'webapp:generate_token' photo.pk %}">
            {% csrf_token %}
            <button type="submit">Сгенерировать ссылку</button>
        </form>
    {% endif %}
{% endif %}



    </div>
    <div class="post-description px-4 py-3">
        <p>{{ photo.caption }}</p>
    </div>
    <div class="post-timestamp px-4 py-2 text-muted">{{ photo.created_at }}</div>

</div>